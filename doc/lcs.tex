\section{Evaluating distances}

\subsection{Longest Common Subsequence} 

In order to compare the generated strings one another we must define a distance on the samples.
The distance used in our work is based on the \emph{Longest Common Subsequence} (\textbf{LCS}) algorithm. 

The LCS algorithm has the aim of extracting from a set of sequences (in this case only two) the longest common subsequence, that is a sequence that is obtainable from both the starting sequences by deleting some elements without changing the order of the remaining ones.

LCS is a particular case of the \emph{Edit Distance} algorithm where the only allowed operations are insertion and deletion.
The distance associated with LCS in our current work is the number of insertion and deletions that must be applied to obtain the longest subsequence, in accordance with the Edit distance where the distance is calculated with the number of operations needed to morph a string in the other (in Edit Distance it's possible moreover to confer customizable costs to the substitutions).   

While the LCS algorithm may require high costs when applied concurrently to high numbers of sequences, in our case there exists an easy and light implementation that exploits \textit{dynamic programming}, in this type of implementation the cost ends up being $O(n*m)$ where $n$ and $m$ are the length of the compared strings.  


$$\label{LCS}
LCS(X_i,Y_j) =
 \left\{\begin{array}{ll}
 \displaystyle
 0 & if~i=0~ or~ j=0\\
 LCS(X_{i-1},Y_{j-1})\cup x_i & if~ x_i=y_j\\
 longest(LCS(X_i,Y_{j-1}), LCS(X_{i-1},Y_j)) & if~ x_i\neq y_j
 \end{array}\right.
$$


Obtained the Longest Common Subsequence between two strings the distance between them is thus:
$$ x.length() + y.length() - 2*LcsLength$$

where $x$ and $y$ are the strings and the $length()$ function returns the length of a string.

\subsection{Euclidean distance} 

Longest Common Subsequence is only used with strings. In order to improve the correctness of words distance we combine LCS distance with euclidean distance which uses dimensional features insted of structure features.

The eucliden distance is evaluated with
$$d = \sqrt{((a_b - a_t)âˆ’(b_b - b_t))^2 -(a_c - b_c)^2}$$

with

\begin{itemize}
\item $a_b$ representing the end of the stroke $a$
\item $a_t$ representing the begin of the stroke $a$
\item $b_b$ representing the end of the stroke $b$
\item $b_t$ representing the begin of the stroke $b$
\item $a_c$ representing the number of transition (normalized) of $a$
\item $b_c$ representing the number of transition (normalized) of $b$
\end{itemize}

At this point we evaluate the L1 normalization for each segment we proceed evaluatin distances from different features with the previous way.